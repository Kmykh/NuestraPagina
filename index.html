<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rat√≥n & Ratoncita | Nuestro Universo</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@1,400;1,700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        /* --- 1. VARIABLES Y RESET --- */
        :root {
            --primary: #d4af37;      /* Dorado */
            --secondary: #ff9eb5;    /* Rosa */
            --accent: #c2185b;       /* Magenta oscuro */
            --bg-color: #fffbf0;     /* Crema suave */
            --card-bg: #ffffff;
            --text-main: #5d4037;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }

        body {
            background-color: var(--bg-color);
            font-family: 'Montserrat', sans-serif;
            color: var(--text-main);
            overflow-x: hidden;
        }

        /* --- 2. PANTALLA DE ACCESO (LOGIN - MINIMALISTA) --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fffcf9; /* Fondo crema muy suave */
            z-index: 3000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: transform 0.8s cubic-bezier(0.86, 0, 0.07, 1);
            padding: 20px;
        }
        
        .login-title {
            font-family: 'Great Vibes', cursive; font-size: 5rem; color: var(--accent);
            margin-bottom: 5px; text-shadow: none; /* Sin sombras duras */
            animation: pulse 4s infinite ease-in-out; text-align: center; font-weight: 400;
        }
        .login-subtitle {
            font-family: 'Montserrat', sans-serif; letter-spacing: 4px; color: #aaa; 
            font-size: 0.75rem; margin-bottom: 50px; text-transform: uppercase; text-align: center;
        }
        
        /* INPUTS CUADRADOS TIPO BA√öL */
        .digit-container { display: flex; gap: 15px; margin: 20px 0; }
        .digit-input {
            width: 60px; height: 60px; 
            border: 2px solid #ffecb3; /* Dorado suave */
            background: #fff;
            border-radius: 12px;
            font-size: 2rem; text-align: center; color: var(--accent);
            outline: none; transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .digit-input:focus {
            border-color: var(--primary); transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.2);
        }

        /* CANDADO ANIMADO REALISTA */
        .lock-container {
            position: relative;
            width: 60px; height: 85px;
            margin-bottom: 25px;
            transition: transform 0.2s;
        }

        .lock-shackle {
            position: absolute;
            top: 0; left: 10px;
            width: 40px; height: 35px;
            border: 6px solid #7f8c8d;
            border-bottom: 0;
            border-radius: 20px 20px 0 0;
            /* El pivote debe ser la pata derecha del arco */
            transform-origin: 34px 35px; 
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1;
        }
        
        .lock-body {
            position: absolute;
            bottom: 0; left: 0;
            width: 60px; height: 50px;
            background: linear-gradient(135deg, #FFD700, #FDB931);
            border-radius: 8px;
            z-index: 2;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1), inset 0 2px 5px rgba(255,255,255,0.4);
            display: flex; justify-content: center; align-items: center;
        }

        /* Ojo de la cerradura */
        .lock-body::after {
            content: '';
            width: 12px; height: 20px;
            background: #333;
            clip-path: polygon(0% 0%, 100% 0%, 100% 60%, 50% 100%, 0% 60%);
            opacity: 0.8;
        }

        /* ANIMACIONES */
        .lock-container.shake { animation: shake 0.5s; }
        
        .lock-container.open .lock-shackle {
            transform: translateY(-12px) rotate(45deg);
        }
        .lock-container.open .lock-body {
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
        }

        .hint-text {
            margin-top: 25px; color: #bbb; font-size: 0.8rem; font-style: italic;
            opacity: 0.7; text-align: center; font-weight: 300;
        }
        
        .enter-btn {
            margin-top: 50px; padding: 15px 50px; border-radius: 50px; border: initial;
            background: var(--accent); /* Color s√≥lido elegante */
            color: white; font-weight: 500; cursor: pointer; font-size: 0.85rem;
            letter-spacing: 2px; text-transform: uppercase;
            box-shadow: 0 10px 30px rgba(194, 24, 91, 0.2); 
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .enter-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 15px 40px rgba(194, 24, 91, 0.35);
        }
        
        /* Estilos del Modal de Instrucciones */
        .instruction-list { list-style: none; text-align: left; padding: 0; margin: 20px 0; width: 100%; max-width: 400px; }
        .instruction-list li {
            background: rgba(255,255,255,0.6); margin-bottom: 12px; padding: 12px 20px;
            border-radius: 15px; display: flex; align-items: center; gap: 15px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.03); font-size: 0.95rem; color: #555;
        }
        .instruction-icon { font-size: 1.2rem; }
        
        @keyframes pulse { 0%, 100% {transform: scale(1);} 50% {transform: scale(1.02);} }

        /* --- 3. BARRA DE NAVEGACI√ìN --- */
        nav {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            padding: 15px 5%; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 20px rgba(0,0,0,0.05); transform: translateY(-100%); opacity: 0;
            transition: all 0.8s ease 0.8s;
        }
        .nav-logo { font-family: 'Great Vibes', cursive; font-size: 1.8rem; color: var(--accent); }
        .nav-links { list-style: none; display: flex; gap: 30px; }
        .nav-links a { text-decoration: none; color: var(--text-main); font-size: 0.9rem; font-weight: 600; transition: color 0.3s; }
        .nav-links a:hover { color: var(--accent); }
        .nav-meet { 
            background: linear-gradient(45deg, #000, #333); 
            color: #ffd700 !important; 
            padding: 8px 25px; 
            border-radius: 5px;
            border: 1px solid #ffd700;
            font-family: 'Playfair Display', serif;
            letter-spacing: 1px;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            text-transform: uppercase;
            font-size: 0.8rem;
        }
        .nav-meet:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            background: linear-gradient(45deg, #222, #000);
        }

        /* --- RED STRINGS ANIMATION (REMOVIDO) --- */


        /* --- PARTICULAS DE FONDO --- */
        #particles {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none; overflow: hidden;
        }
        .firefly {
            position: absolute; border-radius: 50%;
            background: radial-gradient(circle, #ffd700, transparent 70%);
            opacity: 0; animation: floatFirefly 5s infinite ease-in-out;
        }
        @keyframes floatFirefly {
            0% { opacity: 0; transform: translateY(100vh) scale(0); }
            50% { opacity: 0.8; }
            100% { opacity: 0; transform: translateY(-10vh) scale(1.5); }
        }

        /* --- 4. HERO SECTION (PORTADA) --- */
        .hero {
            height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; position: relative;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0) 0%, rgba(255,251,240,1) 100%);
            overflow: hidden;
        }

        /* Animaciones para los elementos del Hero */
        .hero-icons { font-size: 5rem; margin-bottom: 20px; display: flex; gap: 10px; align-items: center; }
        .mouse { opacity: 0; transform: translateX(0); }
        .mouse.left { animation: slideInLeft 1s forwards 0.5s; }
        .mouse.right { animation: slideInRight 1s forwards 0.5s; }
        .heart-beat { opacity: 0; animation: popIn 0.5s forwards 1.5s, heartbeat 1.5s infinite 2s; color: #e91e63; }
        
        .hero h1 {
            font-family: 'Playfair Display', serif; font-size: 4.5rem; 
            background: linear-gradient(45deg, var(--text-main), var(--accent));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 10px; opacity: 0; animation: fadeUp 1s forwards 1s;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .hero h2 {
            font-family: 'Great Vibes', cursive; font-size: 3rem; color: var(--accent);
            opacity: 1; /* Cambiado de 0 a 1 para el efecto typing */
            min-height: 3.5rem; /* Evita saltos de linea */
        }
        /* Cursor parpadeante */
        .typing-cursor::after {
            content: '|'; animation: blink 1s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .scroll-down {
            position: absolute; bottom: 30px; animation: bounce 2s infinite; color: #aaa; font-size: 0.8rem;
        }

        /* Animaciones complejas adicionales */
        @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes heartbeat { 0% { transform: scale(1); } 15% { transform: scale(1.3); } 30% { transform: scale(1); } 45% { transform: scale(1.15); } 60% { transform: scale(1); } }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 0.6; } 100% { transform: translateY(-100px) scale(0); opacity: 0; } }

        /* Decoraci√≥n flotante */
        .floating-heart {
            position: absolute; color: var(--secondary); opacity: 0.6; pointer-events: none;
            animation: floatUp 4s infinite linear;
        }

        /* --- 5. SECCIONES GENERALES --- */
        section { padding: 100px 10%; min-height: 80vh; }
        .section-title {
            text-align: center; font-family: 'Playfair Display', serif; font-size: 2.5rem;
            margin-bottom: 60px; position: relative; display: inline-block; width: 100%;
        }
        .section-title::after {
            content: '‚ù§'; display: block; font-size: 1.5rem; color: var(--secondary); margin-top: 10px;
        }

        /* --- 6. TIMELINE (MINIMALISTA & CLEAN) --- */
        .timeline-container {
            display: flex; 
            flex-direction: row; 
            gap: 40px; 
            overflow-x: auto; 
            padding: 50px 20px; /* Espacio para hover */
            scroll-snap-type: x mandatory;
            
            /* Ocultar barra de scroll para limpieza visual */
            scrollbar-width: none; 
            -ms-overflow-style: none;
        }
        .timeline-container::-webkit-scrollbar { display: none; }

        .memory-card {
            min-width: 280px;
            max-width: 280px;
            background: #fff;
            padding: 40px 30px; 
            border-radius: 40px; /* Bordes muy redondeados */
            box-shadow: 0 10px 30px rgba(0,0,0,0.03); /* Sombra ultra suave */
            display: flex; flex-direction: column; align-items: center; text-align: center;
            text-decoration: none; color: inherit;
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            scroll-snap-align: center;
            border: 1px solid rgba(0,0,0,0.02);
            position: relative;
        }
        
        .memory-card:hover { 
            transform: translateY(-10px); 
            box-shadow: 0 20px 60px rgba(233, 30, 99, 0.1); /* Sombra rosa suave al flotar */
        }

        /* Icono Minimalista */
        .card-icon { 
            font-size: 1.8rem; 
            background: #fff5f8; /* Rosa muy p√°lido */
            color: var(--accent);
            width: 60px; height: 60px; 
            display: flex; justify-content: center; align-items: center; 
            border-radius: 50%;
            margin-bottom: 20px;
            /* Sin bordes, solo color */
        } 
        
        /* Bot√≥n estilo 'Ghost' minimalista */
        .card-details-btn {
            margin-top: 25px; display: inline-block; padding: 12px 25px; 
            background: transparent; color: var(--accent); 
            border: 1px solid #ffdae9; border-radius: 50px; 
            font-size: 0.75rem; font-weight: 600; letter-spacing: 1px;
            transition: all 0.3s; text-transform: uppercase;
        }
        .memory-card:hover .card-details-btn {
            background: var(--accent); color: white; border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(194, 24, 91, 0.2);
        }
        
        .card-content { width: 100%; }
        .card-content h3 { font-family: 'Playfair Display', serif; color: #444; margin: 10px 0; font-size: 1.4rem; letter-spacing: -0.5px; }
        .card-date { 
            display: inline-block; padding: 0; border-radius: 0; 
            background: transparent; color: #999; font-weight: 500; font-size: 0.75rem; letter-spacing: 2px;
            margin-bottom: 5px; text-transform: uppercase;
        }

        /* --- 6.1 CINE VIP (TICKET) --- */
        .cine-section {
            background-color: #111; /* Fondo oscuro cinematogr√°fico */
            color: #d4af37;
            text-align: center;
            padding: 80px 10%;
            position: relative;
            overflow: hidden;
        }
        .ticket-container {
            display: flex; justify-content: center; margin-top: 50px; perspective: 1000px;
        }
        .ticket {
            background: linear-gradient(135deg, #fbc02d, #d4af37);
            width: 600px; height: 220px; display: flex;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
            text-decoration: none; color: #3d2b1f;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden;
            cursor: pointer;
        }
        .ticket:hover { transform: scale(1.05) rotate(1deg); box-shadow: 0 0 50px rgba(212, 175, 55, 0.6); }
        
        .ticket-stub {
            width: 30%; border-right: 2px dashed #3d2b1f;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: rgba(255,255,255,0.1); padding: 10px;
            position: relative;
        }
        /* Muescas del ticket */
        .ticket-stub::before, .ticket-stub::after, .ticket-body::before, .ticket-body::after {
            content: ''; position: absolute; width: 30px; height: 30px;
            background-color: #111; border-radius: 50%; z-index: 2;
        }
        .ticket-stub::before { top: -15px; right: -15px; } .ticket-stub::after { bottom: -15px; right: -15px; }
        
        .ticket-body {
            width: 70%; padding: 20px 30px;
            display: flex; flex-direction: column; justify-content: center; text-align: left;
            position: relative;
        }
        .ticket-body::before { top: -15px; left: -15px; } .ticket-body::after { bottom: -15px; left: -15px; }

        .cinema-title { font-family: 'Great Vibes', cursive; font-size: 2.8rem; line-height: 1; color: #880e4f; margin-bottom: 5px; }
        .cinema-subtitle { font-family: 'Montserrat', sans-serif; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; }
        .cinema-details { margin-top: 15px; font-size: 0.8rem; font-family: 'Courier New', monospace; font-weight: bold; }
        .cta-play {
            position: absolute; right: 30px; top: 50%; transform: translateY(-50%);
            font-size: 3rem; color: #880e4f; opacity: 0.8;
        }

        /* --- 7. EL D√çA DEL S√ç (PEDIDA) --- */
        .proposal-section { background: white; text-align: center; border-radius: 50px 50px 0 0; }
        .mice-container { margin: 30px auto; max-width: 500px; }
        
        .polaroid-grid {
            display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 50px;
        }
        .polaroid {
            background: white; padding: 15px 15px 40px 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transform: rotate(-2deg); transition: transform 0.3s;
            width: 300px;
        }
        .polaroid:nth-child(even) { transform: rotate(2deg); }
        .polaroid:hover { transform: scale(1.05) rotate(0); z-index: 10; }
        .polaroid img { width: 100%; height: 320px; object-fit: cover; background: #eee; }
        .polaroid p {
            font-family: 'Great Vibes', cursive; font-size: 1.5rem; color: #555; margin-top: 15px;
        }

        /* --- 8. FOOTER --- */
        footer {
            background: var(--text-main); color: #fff; padding: 50px; text-align: center;
            font-size: 0.9rem;
        }

        /* --- ANIMACIONES --- */
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }
        .visible { opacity: 1 !important; transform: translateY(0) !important; transition: 0.8s ease-out; }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .hero h1 { font-size: 3rem; }
            .nav-links { display: none; }
            .nav-logo { margin: 0 auto; }
            
            /* En movil mantenemos el scroll horizontal pero ajustamos el padding */
            .timeline-container { padding: 40px 10px; gap: 20px; }
            
            .memory-card { 
                /* Mantenemos el tama√±o fijo para el scroll */
                min-width: 260px;
                max-width: 260px;
            }
            .polaroid { width: 100%; transform: none !important; }
        }
    </style>
</head>
<body>
    <div id="particles"></div>

    <div id="login-screen">
        <!-- VISTA DE LOGIN -->
        <div id="login-form-box" style="display: flex; flex-direction: column; align-items: center;">
            <h1 class="login-title">Nuestra P√°gina Juntos</h1>
            <p class="login-subtitle">"Donde cada recuerdo vive por siempre" ‚ú®</p>
            
            <div id="lock-anim" class="lock-container">
                <div class="lock-shackle"></div>
                <div class="lock-body"></div>
            </div>

            <div class="digit-container">
                <input type="tel" class="digit-input" maxlength="1" oninput="handleDigit(this, 1)" id="digit1">
                <input type="tel" class="digit-input" maxlength="1" oninput="handleDigit(this, 2)" id="digit2">
                <input type="tel" class="digit-input" maxlength="1" oninput="handleDigit(this, 3)" id="digit3">
                <input type="tel" class="digit-input" maxlength="1" oninput="handleDigit(this, 4)" id="digit4">
            </div>
            
            <p class="hint-text">Pista: La fecha de tu cumplea√±os (DDMM) üéÇ</p>
            
            <p id="error-msg" style="color:#d32f2f; margin-top:10px; opacity:0; font-size:0.9rem;">C√≥digo incorrecto mi amor ‚ù§Ô∏è</p>
        </div>

        <!-- VISTA DE INSTRUCCIONES (Oculta inicialmente) -->
        <div id="welcome-box" style="display: none; flex-direction: column; align-items: center; max-width: 90%;">
            <h2 style="font-family: 'Great Vibes'; font-size: 3rem; color: #c2185b; margin-bottom: 10px;">¬°Bienvenida Amor! üê≠‚ù§Ô∏è</h2>
            <p style="text-align: center; color: #555; margin-bottom: 20px;">
                He preparado este rinc√≥n especial con todo mi cari√±o para ti.
            </p>
            
            <ul class="instruction-list">
                <li><span class="instruction-icon">‚ú®</span> Momentos inolvidables de nuestra historia.</li>
                <li><span class="instruction-icon">üíå</span> P√°ginas y cartas hechas con mucho amor.</li>
                <li><span class="instruction-icon">üéüÔ∏è</span> Cine VIP: Tu pase especial para nuestras noches.</li>
                <li><span class="instruction-icon">üíç</span> El recuerdo de cuando dijimos "S√≠".</li>
            </ul>

            <button class="enter-btn" onclick="startJourney()">¬°Ver Nuestra Historia!</button>
        </div>
    </div>

    <nav id="navbar">
        <div class="nav-logo">Rat√≥n & Ratoncita</div>
        <ul class="nav-links">
            <li><a href="#inicio">Inicio</a></li>
            <li><a href="#cine">Cine VIP</a></li>
            <li><a href="#historia">Nuestra Historia</a></li>
            <li><a href="#pedida">El Gran D√≠a</a></li>
        </ul>
    </nav>

    <header id="inicio" class="hero">
        <div class="hero-icons">
            <span class="mouse left">üê≠</span>
            <span class="heart-beat">‚ù§Ô∏è</span>
            <span class="mouse right">üê≠</span>
        </div>
        <h1>Maycol & Mabel</h1>
        <h2 id="typing-text" class="typing-cursor"></h2>
        <div class="scroll-down">Desliza para ver m√°s<br>‚ñº</div>
    </header>

    <section id="cine" class="cine-section">
        <h2 class="section-title" style="color: #d4af37;">Noche de Pel√≠cula</h2>
        <p style="color: #aaa; max-width: 600px; margin: 0 auto; margin-bottom: 20px;">
            Porque cada momento contigo es de pel√≠cula. Aqu√≠ tienes tu entrada exclusiva para nuestra cita virtual.
        </p>
        
        <div class="ticket-container scroll-trigger">
            <a href="https://meet.google.com/yqd-qoia-yxf" target="_blank" class="ticket">
                <div class="ticket-stub">
                    <span style="font-size: 2rem;">üçø</span>
                    <span style="font-family: 'Courier New'; font-weight: bold; margin-top: 10px;">ADMIT ONE</span>
                    <span style="font-size: 0.7rem; margin-top: 5px;">VIP PASS</span>
                </div>
                <div class="ticket-body">
                    <div class="cinema-subtitle">Maycol & Mabel Presents</div>
                    <div class="cinema-title">Nuestro Universo</div>
                    <div class="cinema-details">
                        FECHA: SIEMPRE <br>
                        HORA: AHORA MISMO <br>
                        ASIENTO: PRIMERA FILA ‚ù§Ô∏è
                    </div>
                    <div class="cta-play">‚ñ∂</div>
                </div>
            </a>
        </div>
    </section>

    <section id="historia">
        <h2 class="section-title">Momentos Inolvidables</h2>
        <div class="timeline-container" id="timeline-box">
            </div>
    </section>

    <section id="mensaje-conexion" style="background: linear-gradient(to bottom, #fff, #fff0f5); padding: 80px 10%; text-align: center;">
        <h2 class="section-title">T√∫ y Yo</h2>
        <div class="message-content scroll-trigger" style="max-width: 800px; margin: 0 auto; padding: 40px; background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(194, 24, 91, 0.1); position: relative;">
            <span style="position: absolute; top: -20px; left: 20px; font-size: 4rem; color: #ff9eb5; font-family: 'Great Vibes';">"</span>
            
            <p style="font-size: 1.2rem; line-height: 2; color: #5d4037;">
                Hay conexiones que no se explican, se sienten. Y lo nuestro es exactamente eso: <strong>una conexi√≥n instant√°nea y √∫nica</strong>.
                <br><br>
                Desde que llegaste, mi mundo tiene m√°s luz. No eres solo mi amor, eres mi compa√±era de vida.
                <br>
                <strong>Te quiero, Te amo</strong> y sobre todo...
                <br>
                <span style="font-family: 'Great Vibes', cursive; font-size: 2.5rem; color: #c2185b; display: block; margin-top: 15px;">
                    Quiero una vida entera contigo.
                </span>
            </p>
            
            <span style="position: absolute; bottom: -40px; right: 20px; font-size: 4rem; color: #ff9eb5; font-family: 'Great Vibes';">"</span>
        </div>
    </section>



    <section id="pedida" class="proposal-section">
        <h2 class="section-title">Nuestro Aniversario</h2>
        
        <div class="mice-container">
            <img src="foto3.png" alt="Nosotros" style="width: 100%; height: auto; display: block; margin: 0 auto; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
        </div>

        <p style="font-size: 1.2rem; margin-bottom: 30px; color: #666;">
            Desde el <strong>2 de Enero del 2026</strong>,<br>
            comenzamos nuestro cap√≠tulo m√°s bonito.
        </p>

        <div class="polaroid-grid">
            <div class="polaroid">
                <img src="foto1.jpeg" onerror="this.src='https://images.unsplash.com/photo-1518199266791-5375a83190b7?auto=format&fit=crop&w=400'" alt="Pedida foto 1">
                <p>El momento</p>
            </div>
            <div class="polaroid">
                <img src="foto2.jpeg" onerror="this.src='https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?auto=format&fit=crop&w=400'" alt="Pedida foto 2">
                <p>Juntos por Siempre</p>
            </div>
        </div>
    </section>

    <footer>
        <p>Hecho con c√≥digo y mucho amor para Mabel üê≠‚ù§Ô∏è</p>
        <p style="font-size: 0.8rem; margin-top: 10px; opacity: 0.7;">¬© 2026 Rat√≥n y Ratoncita</p>
    </footer>

    <script>
        // --- 1. SEGURIDAD ---
        const SECRET_CODE = "2211";

        // Manejar inputs de d√≠gitos
        function handleDigit(input, index) {
            if(input.value.length >= 1) {
                if(index < 4) {
                    document.getElementById('digit' + (index + 1)).focus();
                } else {
                    input.blur(); // Quitar foco al terminar
                    checkAccess(); // Intentar abrir autom√°ticamente
                }
            }
        }

        function checkAccess() {
            // Obtener codigo completo
            const d1 = document.getElementById('digit1').value;
            const d2 = document.getElementById('digit2').value;
            const d3 = document.getElementById('digit3').value;
            const d4 = document.getElementById('digit4').value;
            const fullCode = d1 + d2 + d3 + d4;

            const loginBox = document.getElementById('login-form-box');
            const welcomeBox = document.getElementById('welcome-box');
            const lockIcon = document.getElementById('lock-anim');
            
            if(fullCode === SECRET_CODE) {
                // Animaci√≥n de √©xito (abrir candado)
                lockIcon.classList.remove('shake');
                lockIcon.classList.add('open');
                
                setTimeout(() => {
                    // Si ya vio las instrucciones, pasamos directo
                    if(localStorage.getItem('mabel_intro_seen')) {
                        startJourney();
                    } else {
                        loginBox.style.display = 'none';
                        welcomeBox.style.display = 'flex';
                        welcomeBox.style.animation = 'fadeUp 0.5s forwards';
                    }
                }, 1000); // Esperar a que termine la animaci√≥n del candado

            } else {
                // Animaci√≥n de error (vibrar)
                const err = document.getElementById('error-msg');
                lockIcon.classList.add('shake');
                err.style.opacity = "1";
                
                // Limpiar inputs
                [1,2,3,4].forEach(i => document.getElementById('digit'+i).value = '');
                document.getElementById('digit1').focus();

                setTimeout(() => { 
                    lockIcon.classList.remove('shake');
                    err.style.opacity = "0"; 
                }, 1000);
            }
        }
        
        function startJourney() {
            // Marcar como visto para la pr√≥xima
            localStorage.setItem('mabel_intro_seen', 'true');

            const screen = document.getElementById('login-screen');
            const nav = document.getElementById('navbar');
            
            screen.style.transform = "translateY(-100%)";
            nav.style.opacity = "1";
            nav.style.transform = "translateY(0)";
            
            // Activar animaciones de entrada
            setTimeout(animateOnScroll, 500);
        }

        // Permitir Enter solo en el ultimo input o globalmente
        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkAccess();
        });

        // Add backspace handling for better UX
        [1, 2, 3, 4].forEach((index) => {
            const input = document.getElementById(`digit${index}`);
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && input.value === '' && index > 1) {
                    document.getElementById(`digit${index - 1}`).focus();
                }
            });
        });

        // --- 2. GENERAR HISTORIA (ORDEN CORREGIDO) ---
        const memories = [
            { 
                date: "22 NOV 2025", 
                title: "Felices 21 A√±os", 
                desc: "Tu regalo de cumplea√±os. El inicio de las sorpresas.", 
                icon: "üéÇ", 
                url: "https://hbmabel.netlify.app/" 
            },
            { 
                date: "23 DIC 2025", 
                title: "Nuestra Primera Cita", 
                desc: "El d√≠a que salimos juntos por primera vez.", 
                icon: "üíå", 
                url: "https://paratibel.netlify.app/" 
            },
            { 
                date: "31 DIC 2025", 
                title: "Sorpresa de A√±o Nuevo", 
                desc: "Invitaci√≥n especial para nuestra cita del 2 de Enero.", 
                icon: "‚ú®", 
                url: "https://paratimabel.netlify.app/" 
            },
            { 
                date: "02 ENE 2026", 
                title: "Nuestro Aniversario", 
                desc: "¬°El d√≠a oficial! Cuando Rat√≥n y Ratoncita se hicieron novios.", 
                icon: "üíç", 
                url: "#pedida" // Lleva a la secci√≥n especial de abajo
            },
            { 
                date: "07 ENE 2026", 
                title: "Primer D√≠a de Pr√°cticas", 
                desc: "Un detalle floral para la mejor enfermera en su gran d√≠a.", 
                icon: "üíâ", 
                url: "https://ratoncitam.netlify.app/" 
            }
        ];

        const container = document.getElementById('timeline-box');
        memories.forEach(item => {
            const card = document.createElement('a');
            card.href = item.url;
            if(!item.url.startsWith('#')) card.target = "_blank";
            card.className = 'memory-card scroll-trigger';
            card.innerHTML = `
                <div class="card-icon">${item.icon}</div>
                <div class="card-content">
                    <div class="card-date">${item.date}</div>
                    <h3>${item.title}</h3>
                    <p style="color:#666; font-size:0.9rem; margin-bottom: 10px;">${item.desc}</p>
                    ${!item.url.startsWith('#') ? '<span class="card-details-btn">Ver Tu Detalle &rarr;</span>' : ''}
                </div>
            `;
            container.appendChild(card);
        });

        // --- 3. ANIMACIONES AL SCROLL ---
        function animateOnScroll() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.scroll-trigger').forEach(el => observer.observe(el));
        }
        
        // Inicializar observer aunque no se haya logueado para que est√© listo
        setTimeout(animateOnScroll, 1000);

        // --- 4. EFECTO LUCI√âRNAGAS ---
        function createFireflies() {
            const container = document.getElementById('particles');
            const count = 30;
            for(let i=0; i<count; i++){
                const f = document.createElement('div');
                f.className = 'firefly';
                const size = Math.random() * 8 + 4;
                f.style.width = size + 'px';
                f.style.height = size + 'px';
                f.style.left = Math.random() * 100 + '%';
                f.style.animationDuration = (Math.random() * 10 + 10) + 's';
                f.style.animationDelay = (Math.random() * 5) + 's';
                container.appendChild(f);
            }
        }
        createFireflies();

        // --- 5. CORAZONES FLOTANTES EN HERO ---
        function createHearts() {
            const hero = document.getElementById('inicio');
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('floating-heart');
                heart.innerHTML = '‚ù§';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.bottom = '10%'; // Empieza desde abajo
                heart.style.fontSize = Math.random() * 20 + 20 + 'px';
                heart.style.animationDuration = Math.random() * 3 + 3 + 's'; // 3 a 6 segundos
                hero.appendChild(heart);
                
                // Limpiar despu√©s de la animaci√≥n
                setTimeout(() => heart.remove(), 6000);
            }, 800);
        }
        createHearts();

        // --- 6. EFECTO DE ESCRITURA (TYPING) ---
        function typeWriter() {
            const text = "Nuestra historia infinita";
            const element = document.getElementById('typing-text');
            let i = 0;
            element.innerHTML = ""; // Limpiar texto inicial
            
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, 100); // Velocidad de escritura
                }
            }
            // Iniciar despu√©s de que cargue un poco la p√°gina
            setTimeout(type, 1500);
        }
        typeWriter();

    </script>
</body>
</html>